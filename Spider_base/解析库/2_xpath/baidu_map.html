<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=eiBsqVc0S5kzztKhU1vwM2WWdTGYQteL"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>
    <title>热力图功能示例</title>
    <style type="text/css">
		ul,li{list-style: none;margin:0;padding:0;float:left;}
		html{height:100%}
		body{height:100%;margin:0px;padding:0px;font-family:"微软雅黑";}
		#container{height:500px;width:100%;}
		#r-result{width:100%;}
    </style>
</head>
<body>
	<div id="container"></div>
	<div id="r-result">
		<input type="button"  onclick="openHeatmap();" value="显示热力图"/><input type="button"  onclick="closeHeatmap();" value="关闭热力图"/>
	</div>
</body>
</html>
<script type="text/javascript">
    var map = new BMap.Map("container");          // 创建地图实例

    var point = new BMap.Point(114.316200103, 30.5810841269);
    map.centerAndZoom(point, 15);             // 初始化地图，设置中心点坐标和地图级别
    map.enableScrollWheelZoom(); // 允许滚轮缩放

    var points =[
    {"lat":28.69237514542505,"lng":115.91014826386782,"count":3200},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3500},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":5000},
{"lat":30.47409713915035,"lng":114.34329658379616,"count":2400},
{"lat":30.565457948290792,"lng":114.35212638977254,"count":3000},
{"lat":30.580653520395266,"lng":114.3203264690414,"count":14000},
{"lat":30.637749769749135,"lng":114.26559972918618,"count":4800},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":5500},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2300},
{"lat":30.60389060848435,"lng":114.21975676823952,"count":4700},
{"lat":30.59549791537408,"lng":114.35398238327824,"count":4500},
{"lat":30.6513172190527,"lng":114.32461462022383,"count":2100},
{"lat":30.565457948290792,"lng":114.35212638977254,"count":5000},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3800},
{"lat":30.588052610896018,"lng":114.23102582846394,"count":2700},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3500},
{"lat":30.54726521011608,"lng":114.21759191463703,"count":2500},
{"lat":30.567822036552734,"lng":114.21482686486362,"count":1900},
{"lat":30.648963642644727,"lng":114.17022590646265,"count":2600},
{"lat":30.567822036552734,"lng":114.21482686486362,"count":1900},
{"lat":30.59549791537408,"lng":114.35398238327824,"count":2200},
{"lat":30.47409713915035,"lng":114.34329658379616,"count":2300},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3100},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3400},
{"lat":30.56575598819875,"lng":114.34485380268585,"count":10000},
{"lat":30.59549791537408,"lng":114.35398238327824,"count":2200},
{"lat":30.565457948290792,"lng":114.35212638977254,"count":2600},
{"lat":30.648963642644727,"lng":114.17022590646265,"count":2900},
{"lat":30.56486029278519,"lng":114.35362228468497,"count":2500},
{"lat":30.6513172190527,"lng":114.32461462022383,"count":1800},
{"lat":30.600016467686213,"lng":114.27304856022072,"count":2500},
{"lat":30.60785420623847,"lng":114.38758055353858,"count":4000},
{"lat":30.648963642644727,"lng":114.17022590646265,"count":3500},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":5500},
{"lat":30.567822036552734,"lng":114.21482686486362,"count":2600},
{"lat":40.65877795947621,"lng":109.90367483934152,"count":1600},
{"lat":30.56486029278519,"lng":114.35362228468497,"count":3700},
{"lat":30.56575598819875,"lng":114.34485380268585,"count":13000},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":4300},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2800},
{"lat":30.47409713915035,"lng":114.34329658379616,"count":2200},
{"lat":30.521953349624876,"lng":114.37450830485903,"count":2400},
{"lat":30.521953349624876,"lng":114.37450830485903,"count":2100},
{"lat":30.521953349624876,"lng":114.37450830485903,"count":2300},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":3800},
{"lat":30.580653520395266,"lng":114.3203264690414,"count":18000},
{"lat":30.58558695846575,"lng":114.29161779273969,"count":4000},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2800},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":8000},
{"lat":30.59507157014708,"lng":114.35079699193986,"count":2100},
{"lat":30.656090889378255,"lng":114.33286813952455,"count":2000},
{"lat":30.656090889378255,"lng":114.33286813952455,"count":3500},
{"lat":30.6513172190527,"lng":114.32461462022383,"count":2300},
{"lat":30.600016467686213,"lng":114.27304856022072,"count":2200},
{"lat":30.656090889378255,"lng":114.33286813952455,"count":3500},
{"lat":30.47409713915035,"lng":114.34329658379616,"count":2800},
{"lat":30.55423001705056,"lng":114.35190514161695,"count":4800},
{"lat":30.596474838449044,"lng":114.29412198104373,"count":2800},
{"lat":30.54726521011608,"lng":114.21759191463703,"count":2800},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3000},
{"lat":30.54112414915383,"lng":114.35129682260019,"count":2800},
{"lat":30.59549791537408,"lng":114.35398238327824,"count":3500},
{"lat":30.6513172190527,"lng":114.32461462022383,"count":1800},
{"lat":30.64757020369393,"lng":114.24460901624977,"count":3500},
{"lat":30.521953349624876,"lng":114.37450830485903,"count":2500},
{"lat":30.59549791537408,"lng":114.35398238327824,"count":4000},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":4500},
{"lat":30.562792530123282,"lng":114.24063239741821,"count":2200},
{"lat":30.47409713915035,"lng":114.34329658379616,"count":2000},
{"lat":30.648963642644727,"lng":114.17022590646265,"count":2900},
{"lat":30.580653520395266,"lng":114.3203264690414,"count":3200},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2700},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3500},
{"lat":30.54726521011608,"lng":114.21759191463703,"count":1800},
{"lat":30.54726521011608,"lng":114.21759191463703,"count":2200},
{"lat":30.60785420623847,"lng":114.38758055353858,"count":2800},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":1800},
{"lat":30.58558695846575,"lng":114.29161779273969,"count":7600},
{"lat":30.611439855035115,"lng":114.23916933891208,"count":2500},
{"lat":30.588052610896018,"lng":114.23102582846394,"count":3800},
{"lat":30.56486029278519,"lng":114.35362228468497,"count":5200},
{"lat":30.656090889378255,"lng":114.33286813952455,"count":4500},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2800},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3800},
{"lat":30.565457948290792,"lng":114.35212638977254,"count":6500},
{"lat":30.565457948290792,"lng":114.35212638977254,"count":5500},
{"lat":30.523113630134493,"lng":114.38103294930355,"count":2500},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":3200},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3000},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":4300},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3000},
{"lat":30.523113630134493,"lng":114.38103294930355,"count":2500},
{"lat":30.58558695846575,"lng":114.29161779273969,"count":2300},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2700},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2600},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":3500},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3000},
{"lat":30.6513172190527,"lng":114.32461462022383,"count":2300},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2800},
{"lat":30.567822036552734,"lng":114.21482686486362,"count":3000},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":2700},
{"lat":30.523113630134493,"lng":114.38103294930355,"count":2600},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":3200},
{"lat":30.54726521011608,"lng":114.21759191463703,"count":2200},
{"lat":30.567822036552734,"lng":114.21482686486362,"count":2800},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":3500},
{"lat":30.63621097966343,"lng":114.25529723936012,"count":3800},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":4800},
{"lat":30.656090889378255,"lng":114.33286813952455,"count":2700},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2400},
{"lat":30.47409713915035,"lng":114.34329658379616,"count":2600},
{"lat":30.54112414915383,"lng":114.35129682260019,"count":3000},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":4500},
{"lat":30.578500925166125,"lng":114.3638274523454,"count":3500},
{"lat":30.54362328175047,"lng":114.43389643664298,"count":3600},
{"lat":30.656090889378255,"lng":114.33286813952455,"count":2800},
{"lat":30.47409713915035,"lng":114.34329658379616,"count":2500},
{"lat":30.6513172190527,"lng":114.32461462022383,"count":3100},
{"lat":30.637749769749135,"lng":114.26559972918618,"count":3000},
{"lat":30.580653520395266,"lng":114.3203264690414,"count":3300},
{"lat":30.637749769749135,"lng":114.26559972918618,"count":3000},
{"lat":30.580653520395266,"lng":114.3203264690414,"count":3300},
{"lat":30.59549791537408,"lng":114.35398238327824,"count":2600},
{"lat":30.534331838384873,"lng":114.35718457292965,"count":5500},
{"lat":30.600016467686213,"lng":114.27304856022072,"count":6000},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2600},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":4200},
{"lat":30.54726521011608,"lng":114.21759191463703,"count":2300},
{"lat":30.47409713915035,"lng":114.34329658379616,"count":3000},
{"lat":30.567822036552734,"lng":114.21482686486362,"count":2000},
{"lat":30.63621097966343,"lng":114.25529723936012,"count":2200},
{"lat":30.521953349624876,"lng":114.37450830485903,"count":3000},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":3000},
{"lat":30.6513172190527,"lng":114.32461462022383,"count":2200},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3000},
{"lat":30.565457948290792,"lng":114.35212638977254,"count":4500},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":4000},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":5500},
{"lat":30.534331838384873,"lng":114.35718457292965,"count":4500},
{"lat":30.54362328175047,"lng":114.43389643664298,"count":2600},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":3800},
{"lat":30.60389060848435,"lng":114.21975676823952,"count":4000},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":5500},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":900},
{"lat":30.56575598819875,"lng":114.34485380268585,"count":5000},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":3900},
{"lat":30.521953349624876,"lng":114.37450830485903,"count":2400},
{"lat":30.523113630134493,"lng":114.38103294930355,"count":2000},
{"lat":30.6513172190527,"lng":114.32461462022383,"count":2100},
{"lat":30.656090889378255,"lng":114.33286813952455,"count":2200},
{"lat":30.656090889378255,"lng":114.33286813952455,"count":2200},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2100},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2600},
{"lat":30.56486029278519,"lng":114.35362228468497,"count":4500},
{"lat":30.567822036552734,"lng":114.21482686486362,"count":2700},
{"lat":30.565457948290792,"lng":114.35212638977254,"count":3000},
{"lat":30.55423001705056,"lng":114.35190514161695,"count":6500},
{"lat":30.56575598819875,"lng":114.34485380268585,"count":11000},
{"lat":30.56486029278519,"lng":114.35362228468497,"count":3500},
{"lat":30.64757020369393,"lng":114.24460901624977,"count":3000},
{"lat":30.59549791537408,"lng":114.35398238327824,"count":2200},
{"lat":30.54112414915383,"lng":114.35129682260019,"count":6000},
{"lat":30.59549791537408,"lng":114.35398238327824,"count":2400},
{"lat":30.60389060848435,"lng":114.21975676823952,"count":4200},
{"lat":30.60389060848435,"lng":114.21975676823952,"count":11000},
{"lat":30.54112414915383,"lng":114.35129682260019,"count":2500},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2500},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":1800},
{"lat":30.570775910820366,"lng":114.27530578817058,"count":3000},
{"lat":30.588052610896018,"lng":114.23102582846394,"count":2300},
{"lat":30.54112414915383,"lng":114.35129682260019,"count":2500},
{"lat":30.580653520395266,"lng":114.3203264690414,"count":7000},
{"lat":30.54112414915383,"lng":114.35129682260019,"count":4500},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3200},
{"lat":30.611086625551682,"lng":114.29102837496913,"count":4000},
{"lat":30.63350002152292,"lng":114.28489803094855,"count":1988},
{"lat":30.63621097966343,"lng":114.25529723936012,"count":2800},
{"lat":30.567822036552734,"lng":114.21482686486362,"count":2000},
{"lat":30.47409713915035,"lng":114.34329658379616,"count":2800},
{"lat":30.610951375706676,"lng":114.26638369307084,"count":3000},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3800},
{"lat":30.59549791537408,"lng":114.35398238327824,"count":2050},
{"lat":30.637749769749135,"lng":114.26559972918618,"count":880},
{"lat":30.47409713915035,"lng":114.34329658379616,"count":2700},
{"lat":30.643907242195727,"lng":114.29516843509842,"count":3300},
{"lat":30.47409713915035,"lng":114.34329658379616,"count":4000},
{"lat":30.584912523252896,"lng":114.29850658059385,"count":4500},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3000},
{"lat":30.596474838449044,"lng":114.29412198104373,"count":2400},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2500},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2600},
{"lat":30.648963642644727,"lng":114.17022590646265,"count":2200},
{"lat":30.59549791537408,"lng":114.35398238327824,"count":3000},
{"lat":30.62329990976328,"lng":114.27743336907601,"count":2300},
{"lat":30.54362328175047,"lng":114.43389643664298,"count":2600},
{"lat":30.648963642644727,"lng":114.17022590646265,"count":2200},
{"lat":30.605412795180957,"lng":114.30539697192337,"count":5500},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":3900},
{"lat":30.54726521011608,"lng":114.21759191463703,"count":3500},
{"lat":30.54362328175047,"lng":114.43389643664298,"count":1800},
{"lat":30.605412795180957,"lng":114.30539697192337,"count":2500},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":1500},
{"lat":30.6513172190527,"lng":114.32461462022383,"count":2500},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2600},
{"lat":30.567822036552734,"lng":114.21482686486362,"count":4000},
{"lat":30.56486029278519,"lng":114.35362228468497,"count":2500},
{"lat":30.637749769749135,"lng":114.26559972918618,"count":2700},
{"lat":30.54726521011608,"lng":114.21759191463703,"count":3500},
{"lat":30.6513172190527,"lng":114.32461462022383,"count":1800},
{"lat":30.56575598819875,"lng":114.34485380268585,"count":9000},
{"lat":30.611086625551682,"lng":114.29102837496913,"count":4200},
{"lat":30.47409713915035,"lng":114.34329658379616,"count":3000},
{"lat":30.60389060848435,"lng":114.21975676823952,"count":10000},
{"lat":30.58558695846575,"lng":114.29161779273969,"count":6000},
{"lat":30.656090889378255,"lng":114.33286813952455,"count":8000},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":3500},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":20000},
{"lat":30.63350002152292,"lng":114.28489803094855,"count":2800},
{"lat":30.54362328175047,"lng":114.43389643664298,"count":2800},
{"lat":30.60389060848435,"lng":114.21975676823952,"count":2700},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3200},
{"lat":30.47409713915035,"lng":114.34329658379616,"count":3300},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2800},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":1800},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":3600},
{"lat":30.648963642644727,"lng":114.17022590646265,"count":2600},
{"lat":30.59507157014708,"lng":114.35079699193986,"count":3300},
{"lat":30.60389060848435,"lng":114.21975676823952,"count":4500},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2600},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":3800},
{"lat":30.580653520395266,"lng":114.3203264690414,"count":3300},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":4500},
{"lat":30.54362328175047,"lng":114.43389643664298,"count":2800},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":3500},
{"lat":30.54112414915383,"lng":114.35129682260019,"count":2700},
{"lat":30.64757020369393,"lng":114.24460901624977,"count":2500},
{"lat":30.54362328175047,"lng":114.43389643664298,"count":2300},
{"lat":30.565457948290792,"lng":114.35212638977254,"count":5000},
{"lat":30.565457948290792,"lng":114.35212638977254,"count":4000},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":3800},
{"lat":30.580653520395266,"lng":114.3203264690414,"count":3300},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":3800},
{"lat":30.565457948290792,"lng":114.35212638977254,"count":4000},
{"lat":30.56575598819875,"lng":114.34485380268585,"count":4000},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":4000},
{"lat":30.56486029278519,"lng":114.35362228468497,"count":3100},
{"lat":30.54112414915383,"lng":114.35129682260019,"count":2300},
{"lat":30.54726521011608,"lng":114.21759191463703,"count":2100},
{"lat":30.643907242195727,"lng":114.29516843509842,"count":1600},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":1500},
{"lat":30.656090889378255,"lng":114.33286813952455,"count":2200},
{"lat":30.606513639144232,"lng":114.34408442288097,"count":2000},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2800},
{"lat":30.6513172190527,"lng":114.32461462022383,"count":1700},
{"lat":30.54362328175047,"lng":114.43389643664298,"count":1800},
{"lat":30.584912523252896,"lng":114.29850658059385,"count":2500},
{"lat":30.600016467686213,"lng":114.27304856022072,"count":1900},
{"lat":30.60389060848435,"lng":114.21975676823952,"count":2100},
{"lat":30.56486029278519,"lng":114.35362228468497,"count":4500},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":3500},
{"lat":30.59549791537408,"lng":114.35398238327824,"count":2800},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":3700},
{"lat":30.60389060848435,"lng":114.21975676823952,"count":3000},
{"lat":30.619864564620755,"lng":114.25457887881667,"count":2600},
{"lat":30.54362328175047,"lng":114.43389643664298,"count":2800},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2800},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":3200},
{"lat":30.60673258715334,"lng":114.2720844987474,"count":5000},
{"lat":30.60785420623847,"lng":114.38758055353858,"count":2500},
{"lat":30.580653520395266,"lng":114.3203264690414,"count":2500},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":3500},
{"lat":30.60389060848435,"lng":114.21975676823952,"count":3000},
{"lat":30.619864564620755,"lng":114.25457887881667,"count":2600},
{"lat":30.56486029278519,"lng":114.35362228468497,"count":3700},
{"lat":30.57183632787311,"lng":114.3410393729141,"count":3400},
{"lat":30.54362328175047,"lng":114.43389643664298,"count":3000},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2300},
{"lat":30.521953349624876,"lng":114.37450830485903,"count":3000},
{"lat":30.56486029278519,"lng":114.35362228468497,"count":4300},
{"lat":30.64757020369393,"lng":114.24460901624977,"count":2500},
{"lat":30.6513172190527,"lng":114.32461462022383,"count":2500},
{"lat":30.59549791537408,"lng":114.35398238327824,"count":2100},
{"lat":30.59507157014708,"lng":114.35079699193986,"count":1700},
{"lat":30.656090889378255,"lng":114.33286813952455,"count":1900},
{"lat":30.6513172190527,"lng":114.32461462022383,"count":2500},
{"lat":30.59507157014708,"lng":114.35079699193986,"count":2200},
{"lat":30.605412795180957,"lng":114.30539697192337,"count":2800},
{"lat":30.580653520395266,"lng":114.3203264690414,"count":2000},
{"lat":30.596474838449044,"lng":114.29412198104373,"count":2600},
{"lat":40.65877795947621,"lng":109.90367483934152,"count":1900},
{"lat":30.565457948290792,"lng":114.35212638977254,"count":2500},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2400},
{"lat":30.6513172190527,"lng":114.32461462022383,"count":1700},
{"lat":30.53442711489473,"lng":114.32357842661469,"count":2300},
{"lat":30.605412795180957,"lng":114.30539697192337,"count":2800},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":1900},
{"lat":28.69237514542505,"lng":115.91014826386782,"count":2100},
{"lat":30.643907242195727,"lng":114.29516843509842,"count":2500},
{"lat":30.60389060848435,"lng":114.21975676823952,"count":2000},
{"lat":40.65877795947621,"lng":109.90367483934152,"count":1700},];

    if(!isSupportCanvas()){
    	alert('热力图目前只支持有canvas支持的浏览器,您所使用的浏览器不能使用热力图功能~')
    }
	//详细的参数,可以查看heatmap.js的文档 https://github.com/pa7/heatmap.js/blob/master/README.md
	//参数说明如下:
	/* visible 热力图是否显示,默认为true
     * opacity 热力的透明度,1-100
     * radius 势力图的每个点的半径大小
     * gradient  {JSON} 热力图的渐变区间 . gradient如下所示
     *	{
			.2:'rgb(0, 255, 255)',
			.5:'rgb(0, 110, 255)',
			.8:'rgb(100, 0, 255)'
		}
		其中 key 表示插值的位置, 0~1.
		    value 为颜色值.
     */
	heatmapOverlay = new BMapLib.HeatmapOverlay({"radius":20});//半径大小
	map.addOverlay(heatmapOverlay);
	heatmapOverlay.setDataSet({data:points,max:10000});
	//是否显示热力图
    function openHeatmap(){
        heatmapOverlay.show();
    }
	function closeHeatmap(){
        heatmapOverlay.hide();
    }
	closeHeatmap();
    function setGradient(){
     	/*格式如下所示:
		{
	  		0:'rgb(102, 255, 0)',
	 	 	.5:'rgb(255, 170, 0)',
		  	1:'rgb(255, 0, 0)'
		}*/
     	var gradient = {};
     	var colors = document.querySelectorAll("input[type='color']");
     	colors = [].slice.call(colors,0);
     	colors.forEach(function(ele){
			gradient[ele.getAttribute("data-key")] = ele.value;
     	});
        heatmapOverlay.setOptions({"gradient":gradient});
    }
	//判断浏览区是否支持canvas
    function isSupportCanvas(){
        var elem = document.createElement('canvas');
        return !!(elem.getContext && elem.getContext('2d'));
    }
</script>